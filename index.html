<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Pour</title>
    <link rel="stylesheet" href="css/style.css">
	<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-firestore.js";
  
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAXMnUvyqMc852OMvBifcHMA6JcbIWr4VY", //worthless api key because rules don't allow anything bad so ok to include here
    authDomain: "word-pour-game.firebaseapp.com",
    projectId: "word-pour-game",
    storageBucket: "word-pour-game.firebasestorage.app",
    messagingSenderId: "646133781719",
    appId: "1:646133781719:web:9417107f5aec5c1b82cc92"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  
  // Initialize Firestore
  const db = getFirestore(app);
  
  // Make db available globally
  window.db = db;
  window.firestoreModules = { 
    collection, 
    addDoc, 
    getDocs, 
    query, 
    orderBy, 
    limit 
  };
</script>
</head>
<body>
   <div class="game-container">
        <div class="game-header">
            <h1>Word Pour</h1>
            <div id="timerArea" class="timer-area">Time: 01:00</div>
        </div>

        <div class="bottles-area" id="bottlesArea">
            <!-- Bottles will be dynamically generated by JS -->
            <!-- Example structure for one bottle: -->
            <!--
            <div class="bottle" id="bottle-1" draggable="true">
                <div class="bottle-neck"></div>
                <div class="bottle-body">
                    <div class="letter-stack">
                         <div class="letter" data-letter="O" data-score="1">O</div>
                         <div class="letter" data-letter="C" data-score="3">C</div>
                         <div class="letter golden" data-letter="B" data-score="3">B</div>
                         <div class="letter" data-letter="E" data-score="1">E</div>
                    </div>
                </div>
                <div class="bottle-base"></div>
            </div>
             -->
        </div>

        <div class="controls">
            <button id="submitButton">Submit Words</button>
            <div id="scoreArea">Score: 0</div>
            <div id="messageArea"></div>
            <button id="resetButton">New Game</button> <!-- Optional: Good practice -->
        </div>
        
        <!-- Game start overlay -->
        <div id="startOverlay" class="start-overlay">
            <div class="overlay-content">
                <h2>Word Pour</h2>
                <p>Build as many words as possible in 60 seconds!</p>
                <button id="startButton">Start Game</button>
                <!-- Leaderboard will be added here dynamically -->
            </div>
        </div>
        
        <!-- Leaderboard entry overlay -->
        <div id="leaderboardEntryOverlay" class="overlay">
            <div class="overlay-content">
                <h2>Time's Up!</h2>
                <p>Your score: <span id="finalScore">0</span></p>
                <div class="name-entry">
                    <label for="playerName">Enter your name:</label>
                    <input type="text" id="playerName" maxlength="20" placeholder="Your Name">
                </div>
                <button id="submitScoreButton">Submit Score</button>
            </div>
        </div>
        
        <!-- Leaderboard display overlay -->
        <div id="leaderboardDisplayOverlay" class="overlay">
            <div class="overlay-content leaderboard-content">
               
              
                <div id="leaderboardList" class="leaderboard-list">
                    <!-- Leaderboard entries will be populated here -->
                </div>
                <button id="playAgainButton">Play Again</button>
            </div>
			 
        </footer>
			
        </div>
		 <footer class="game-footer">
            Watts Services <a href="https://wattswattswatts.com" target="_blank">wattswattswatts.com</a>
			</footer>
		</div>

    <!-- Word List (can be loaded externally) -->
    <script src="js/dictionary.js"></script>
    <!-- Game Configuration -->
    <script src="js/config.js"></script>
    <!-- Main Game Logic -->
    <script src="js/script.js"></script>
</body>
</html>